<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>注册界面</title>

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

    <!-- popper.min.js 用于弹窗、提示、下拉菜单 -->
    <script src="https://cdn.bootcss.com/popper.js/1.12.5/umd/popper.min.js"></script>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">


    <script>
        function register() {
            //jQuery写法
            var user = $('#user').val();
            var password = $('#password').val();
            //JavaScript原生写法
            //var user = document.getElementById('user').value;
            //var password = document.getElementById('password').value;

            $.ajax({
                type: "post",  //post put get 等等
                url: "register.ashx",
                //编写注册功能时，要将异步设置为false（缺省为true）
                //如果async是ture,对于FireFox浏览器，会刷新掉alert()弹出框的内容
                //对于Chrome浏览器，第一次注册时会执行error的回调函数，输出“请求在连接过程中出现错误..”
                async:false,  
                data: {  //要传入ashx文件的数据
                    "user": user,
                    "password": password
                },
                success: function (data, textStatus) {
                    //连接至ashx文件成功时，执行函数
                    //data是从ashx文件返回来的信息，可以是字符串也可以是一个对象
                    //如果data是字符串，则可以输出data的值
                    //如果data是对象，则可以将这个对象的各属性值赋给其他变量
                    //textStatus是表示状态的字符串，这里textStatus的值是"success"
                    alert(data);
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {  //连接至ashx文件失败时，执行函数
                    //XMLHttpRequest在这个例子里没有用到
                    //textStatus是表示状态的字符串，这里textStatus的值是"error"
                    //errorThrown包含连接失败的信息，可以输出查看
                    alert("请求在连接过程中出现错误..\n" + errorThrown);
                }
            });
        }
    </script>
        <style type="text/css">
        .modal-header{padding: 0;}
        /*.modal-content{border-radius: 0;}*/
        .modal-dialog .close{position: absolute;top: 10px;right: 15px;}
        .modal-dialog h3{font-size: 14px;height:42px;line-height: 42px;margin: 0;padding: 0 80px 0 20px;}
        .modal-dialog label{font-weight: 400;}
        .tips{line-height: 34px;font-size: 13px;}
        .tips span{color: red;}
        @media (min-width: 1080px){
            /*模态框-距顶部距离*/
            .modal-dialog {
                margin-top: 100px;
            }
            .col-sm-6{padding-left: 0;padding-right: 0;}
            
        }
    </style>
</head>

<body>
<!-- 注册表单 -->
    <!--模态框-->
    <div class="modal-dialog">
        <div class="modal-content">
          <form class="form-horizontal" autocomplete="off" action="0.php">
            <div class="modal-header">
                <button class="close" data-dismiss="modal">x</button>
                <h3>普通用户注册</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="user" class="col-sm-2 control-label">用户名</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="name" placeholder="6~16位字母、数字、下划线组合">
                    </div>
                    <div class="col-sm-4 tips"><span>* </span>必填</div>
                </div>
                <div class="form-group">
                    <label for="password" class="col-sm-2 control-label">密码</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="password" placeholder="6~16位字母、数字、下划线组合" >
                    </div>
                    <div class="col-sm-4 tips"><span>* </span>必填</div>
                </div>
                
                <div class="form-group">
                    <label for="leadername" class="col-sm-2 control-label">组长姓名</label> 
                    <div class="col-sm-6">  
                        <!-- Single button -->
                        <select class="form-control">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                        </select>
                        
                    </div>
                    <div class="col-sm-4 tips"></div>
                </div>
                
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" type="submit">保存</button>
                <button class="btn btn-info" data-dismiss="modal">关闭</button>
            </div>
            
          </form>
        </div>
    </div>
<script type="text/javascript">
    $(function(){
        window.top.parent.dropdownFun();
        //函数dropdownFun()为官方文档中的$(‘#dropdown’).on('show.bs.dropdown', function(){ ··· ··· })
    });
</script>
</body>
</html>